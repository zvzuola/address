!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("altizure")):"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.GeoJson=t(require("altizure")):(e.altizure=e.altizure||{},e.altizure.GeoJson=t(e.altizure))}(window,function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=37)}([function(e,t,n){"use strict";var r=n(6),o=n(25),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function u(e){return null!==e&&"object"==typeof e}function s(e){return"[object Function]"===i.call(e)}function c(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:u,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:s,isStream:function(e){return u(e)&&s(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)c(arguments[r],n);return t},extend:function(e,t,n){return c(t,function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){"use strict";(function(t){var r=n(0),o=n(22),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u={adapter:function(){var e;return"undefined"!=typeof XMLHttpRequest?e=n(5):void 0!==t&&(e=n(5)),e}(),transformRequest:[function(e,t){return o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(e){u.headers[e]={}}),r.forEach(["post","put","patch"],function(e){u.headers[e]=r.merge(i)}),e.exports=u}).call(this,n(23))},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";var r=n(20);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},function(e,t,n){"use strict";var r=n(0),o=n(21),i=n(19),a=n(18),u=n(17),s=n(4),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(16);e.exports=function(e){return new Promise(function(t,f){var l=e.data,p=e.headers;r.isFormData(l)&&delete p["Content-Type"];var d=new XMLHttpRequest,y="onreadystatechange",h=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||u(e.url)||(d=new window.XDomainRequest,y="onload",h=!0,d.onprogress=function(){},d.ontimeout=function(){}),e.auth){var g=e.auth.username||"",m=e.auth.password||"";p.Authorization="Basic "+c(g+":"+m)}if(d.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d[y]=function(){if(d&&(4===d.readyState||h)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:n,config:e,request:d};o(t,f,r),d=null}},d.onerror=function(){f(s("Network Error",e,null,d)),d=null},d.ontimeout=function(){f(s("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var v=n(15),b=(e.withCredentials||u(e.url))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;b&&(p[e.xsrfHeaderName]=b)}if("setRequestHeader"in d&&r.forEach(p,function(e,t){void 0===l&&"content-type"===t.toLowerCase()?delete p[t]:d.setRequestHeader(t,e)}),e.withCredentials&&(d.withCredentials=!0),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){d&&(d.abort(),f(e),d=null)}),void 0===l&&(l=null),d.send(l)})}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(t,n){t.exports=e},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";var r=n(2);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";var r=n(0),o=n(12),i=n(3),a=n(1),u=n(11),s=n(10);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!u(e.url)&&(e.url=s(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return c(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(0);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var u=[];u.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),r.isString(o)&&u.push("path="+o),r.isString(i)&&u.push("domain="+i),!0===a&&u.push("secure"),document.cookie=u.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";function r(){this.message="String contains an invalid character"}r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,o=String(e),i="",a=0,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.charAt(0|a)||(u="=",a%1);i+=u.charAt(63&t>>8-a%1*8)){if((n=o.charCodeAt(a+=.75))>255)throw new r;t=t<<8|n}return i}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}}),a):a}},function(e,t,n){"use strict";var r=n(0);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,function(e,t){null!==e&&void 0!==e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))}))}),i=a.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e}},function(e,t,n){"use strict";var r=n(4);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,c=[],f=!1,l=-1;function p(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&d())}function d(){if(!f){var e=u(p);f=!0;for(var t=c.length;t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new y(e,t)),1!==c.length||f||u(d)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(1),o=n(0),i=n(14),a=n(13);function u(e){this.defaults=e,this.interceptors={request:new i,response:new i}}u.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),(e=o.merge(r,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},o.forEach(["delete","get","head","options"],function(e){u.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function(e){u.prototype[e]=function(t,n,r){return this.request(o.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=u},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";var r=n(0),o=n(6),i=n(24),a=n(1);function u(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var s=u(a);s.Axios=i,s.create=function(e){return u(r.merge(a,e))},s.Cancel=n(2),s.CancelToken=n(9),s.isCancel=n(3),s.all=function(e){return Promise.all(e)},s.spread=n(8),e.exports=s,e.exports.default=s},function(e,t,n){e.exports=n(26)},function(e){e.exports=[{key:"building",polygon:"all"},{key:"highway",polygon:"whitelist",values:["services","rest_area","escape","elevator"]},{key:"natural",polygon:"blacklist",values:["coastline","cliff","ridge","arete","tree_row"]},{key:"landuse",polygon:"all"},{key:"waterway",polygon:"whitelist",values:["riverbank","dock","boatyard","dam"]},{key:"amenity",polygon:"all"},{key:"leisure",polygon:"all"},{key:"barrier",polygon:"whitelist",values:["city_wall","ditch","hedge","retaining_wall","wall","spikes"]},{key:"railway",polygon:"whitelist",values:["station","turntable","roundhouse","platform"]},{key:"area",polygon:"all"},{key:"boundary",polygon:"all"},{key:"man_made",polygon:"blacklist",values:["cutline","embankment","pipeline"]},{key:"power",polygon:"whitelist",values:["plant","substation","generator","transformer"]},{key:"place",polygon:"all"},{key:"shop",polygon:"all"},{key:"aeroway",polygon:"blacklist",values:["taxiway"]},{key:"tourism",polygon:"all"},{key:"historic",polygon:"all"},{key:"public_transport",polygon:"all"},{key:"office",polygon:"all"},{key:"building:part",polygon:"all"},{key:"military",polygon:"all"},{key:"ruins",polygon:"all"},{key:"area:highway",polygon:"all"},{key:"craft",polygon:"all"},{key:"golf",polygon:"all"},{key:"indoor",polygon:"all"}]},function(e,t,n){e.exports=n(28)},function(e,t){e.exports.RADIUS=6378137,e.exports.FLATTENING=1/298.257223563,e.exports.POLAR_RADIUS=6356752.3142},function(e,t,n){var r=n(30);function o(e){var t=0;if(e&&e.length>0){t+=Math.abs(i(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(i(e[n]))}return t}function i(e){var t=0;if(e.length>2){for(var n,o,i=0;i<e.length-1;i++)n=e[i],t+=a((o=e[i+1])[0]-n[0])*(2+Math.sin(a(n[1]))+Math.sin(a(o[1])));t=t*r.RADIUS*r.RADIUS/2}return t}function a(e){return e*Math.PI/180}e.exports.geometry=function(e){if("Polygon"===e.type)return o(e.coordinates);if("MultiPolygon"===e.type){for(var t=0,n=0;n<e.coordinates.length;n++)t+=o(e.coordinates[n]);return t}return null},e.exports.ring=i},function(e,t,n){var r=n(31);function o(e,t){return function(n){return e(n,t)}}function i(e,t){t=!!t,e[0]=a(e[0],t);for(var n=1;n<e.length;n++)e[n]=a(e[n],!t);return e}function a(e,t){return function(e){return r.ring(e)>=0}(e)===t?e:e.reverse()}e.exports=function e(t,n){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(o(e,n)),t;case"Feature":return t.geometry=e(t.geometry,n),t;case"Polygon":case"MultiPolygon":return function(e,t){return"Polygon"===e.type?e.coordinates=i(e.coordinates,t):"MultiPolygon"===e.type&&(e.coordinates=e.coordinates.map(o(i,t))),e}(t,n);default:return t}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){(function(e,n){(function(){var r,o="Expected a function",i="__lodash_hash_undefined__",a=1,u=2,s=1/0,c=9007199254740991,f="[object Arguments]",l="[object Array]",p="[object Boolean]",d="[object Date]",y="[object Error]",h="[object Function]",g="[object GeneratorFunction]",m="[object Map]",v="[object Number]",b="[object Object]",w="[object RegExp]",_="[object Set]",j="[object String]",A="[object Symbol]",x="[object WeakMap]",k="[object ArrayBuffer]",E="[object DataView]",O="[object Float32Array]",T="[object Float64Array]",S="[object Int8Array]",P="[object Int16Array]",L="[object Int32Array]",R="[object Uint8Array]",B="[object Uint8ClampedArray]",M="[object Uint16Array]",C="[object Uint32Array]",N=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,F=/^\w*$/,I=/^\./,U=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,q=/\\(\\)?/g,D=/\w*$/,z=/^\[object .+?Constructor\]$/,G=/^(?:0|[1-9]\d*)$/,$={};$[O]=$[T]=$[S]=$[P]=$[L]=$[R]=$[B]=$[M]=$[C]=!0,$[f]=$[l]=$[k]=$[p]=$[E]=$[d]=$[y]=$[h]=$[m]=$[v]=$[b]=$[w]=$[_]=$[j]=$[x]=!1;var J={};J[f]=J[l]=J[k]=J[E]=J[p]=J[d]=J[O]=J[T]=J[S]=J[P]=J[L]=J[m]=J[v]=J[b]=J[w]=J[_]=J[j]=J[A]=J[R]=J[B]=J[M]=J[C]=!0,J[y]=J[h]=J[x]=!1;var X="object"==typeof e&&e&&e.Object===Object&&e,H="object"==typeof self&&self&&self.Object===Object&&self,V=X||H||Function("return this")(),W="object"==typeof t&&t&&!t.nodeType&&t,K=W&&"object"==typeof n&&n&&!n.nodeType&&n,Q=K&&K.exports===W,Y=Q&&X.process,Z=function(){try{return Y&&Y.binding("util")}catch(e){}}(),ee=Z&&Z.isTypedArray;function te(e,t){return e.set(t[0],t[1]),e}function ne(e,t){return e.add(t),e}function re(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););return e}function oe(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function ie(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function ae(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function ue(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function se(e,t){return function(n){return e(t(n))}}function ce(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var fe=Array.prototype,le=Function.prototype,pe=Object.prototype,de=V["__core-js_shared__"],ye=function(){var e=/[^.]+$/.exec(de&&de.keys&&de.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),he=le.toString,ge=pe.hasOwnProperty,me=he.call(Object),ve=pe.toString,be=RegExp("^"+he.call(ge).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),we=Q?V.Buffer:r,_e=V.Symbol,je=V.Uint8Array,Ae=se(Object.getPrototypeOf,Object),xe=Object.create,ke=pe.propertyIsEnumerable,Ee=fe.splice,Oe=Object.getOwnPropertySymbols,Te=we?we.isBuffer:r,Se=se(Object.keys,Object),Pe=Math.max,Le=mt(V,"DataView"),Re=mt(V,"Map"),Be=mt(V,"Promise"),Me=mt(V,"Set"),Ce=mt(V,"WeakMap"),Ne=mt(Object,"create"),Fe=!ke.call({valueOf:1},"valueOf"),Ie=Ot(Le),Ue=Ot(Re),qe=Ot(Be),De=Ot(Me),ze=Ot(Ce),Ge=_e?_e.prototype:r,$e=Ge?Ge.valueOf:r,Je=Ge?Ge.toString:r;function Xe(){}function He(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ve(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function We(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ke(e){var t=-1,n=e?e.length:0;for(this.__data__=new We;++t<n;)this.add(e[t])}function Qe(e){this.__data__=new Ve(e)}function Ye(e,t){var n=Rt(e)||Lt(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var i in e)!t&&!ge.call(e,i)||o&&("length"==i||wt(i,r))||n.push(i);return n}function Ze(e,t,n){(n===r||Pt(e[t],n))&&("number"!=typeof t||n!==r||t in e)||(e[t]=n)}function et(e,t,n){var o=e[t];ge.call(e,t)&&Pt(o,n)&&(n!==r||t in e)||(e[t]=n)}function tt(e,t){for(var n=e.length;n--;)if(Pt(e[n][0],t))return n;return-1}function nt(e,t,n,o,i,a,u){var s;if(o&&(s=a?o(e,i,a,u):o(e)),s!==r)return s;if(!It(e))return e;var c=Rt(e);if(c){if(s=function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&ge.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!t)return dt(e,s)}else{var l=bt(e),y=l==h||l==g;if(Ct(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(l==b||l==f||y&&!a){if(ae(e))return a?e:{};if(s=function(e){return"function"!=typeof e.constructor||jt(e)?{}:function(e){return It(e)?xe(e):{}}(Ae(e))}(y?{}:e),!t)return function(e,t){return yt(e,vt(e),t)}(e,function(e,t){return e&&yt(t,Ht(t),e)}(s,e))}else{if(!J[l])return a?e:{};s=function(e,t,n,r){var o=e.constructor;switch(t){case k:return pt(e);case p:case d:return new o(+e);case E:return function(e,t){var n=r?pt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e);case O:case T:case S:case P:case L:case R:case B:case M:case C:return function(e,t){var n=r?pt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e);case m:return function(e,t,n){return oe(r?n(ue(e),!0):ue(e),te,new e.constructor)}(e,0,n);case v:case j:return new o(e);case w:return function(e){var t=new e.constructor(e.source,D.exec(e));return t.lastIndex=e.lastIndex,t}(e);case _:return function(e,t,n){return oe(r?n(ce(e),!0):ce(e),ne,new e.constructor)}(e,0,n);case A:return function(e){return $e?Object($e.call(e)):{}}(e)}}(e,l,nt,t)}}u||(u=new Qe);var x=u.get(e);if(x)return x;if(u.set(e,s),!c)var N=n?function(e){return function(e,t,n){var r=Ht(e);return Rt(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,0,vt)}(e):Ht(e);return re(N||e,function(r,i){N&&(r=e[i=r]),et(s,i,nt(r,t,n,o,i,e,u))}),s}He.prototype.clear=function(){this.__data__=Ne?Ne(null):{}},He.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},He.prototype.get=function(e){var t=this.__data__;if(Ne){var n=t[e];return n===i?r:n}return ge.call(t,e)?t[e]:r},He.prototype.has=function(e){var t=this.__data__;return Ne?t[e]!==r:ge.call(t,e)},He.prototype.set=function(e,t){return this.__data__[e]=Ne&&t===r?i:t,this},Ve.prototype.clear=function(){this.__data__=[]},Ve.prototype.delete=function(e){var t=this.__data__,n=tt(t,e);return!(n<0||(n==t.length-1?t.pop():Ee.call(t,n,1),0))},Ve.prototype.get=function(e){var t=this.__data__,n=tt(t,e);return n<0?r:t[n][1]},Ve.prototype.has=function(e){return tt(this.__data__,e)>-1},Ve.prototype.set=function(e,t){var n=this.__data__,r=tt(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},We.prototype.clear=function(){this.__data__={hash:new He,map:new(Re||Ve),string:new He}},We.prototype.delete=function(e){return gt(this,e).delete(e)},We.prototype.get=function(e){return gt(this,e).get(e)},We.prototype.has=function(e){return gt(this,e).has(e)},We.prototype.set=function(e,t){return gt(this,e).set(e,t),this},Ke.prototype.add=Ke.prototype.push=function(e){return this.__data__.set(e,i),this},Ke.prototype.has=function(e){return this.__data__.has(e)},Qe.prototype.clear=function(){this.__data__=new Ve},Qe.prototype.delete=function(e){return this.__data__.delete(e)},Qe.prototype.get=function(e){return this.__data__.get(e)},Qe.prototype.has=function(e){return this.__data__.has(e)},Qe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ve){var r=n.__data__;if(!Re||r.length<199)return r.push([e,t]),this;n=this.__data__=new We(r)}return n.set(e,t),this};var rt=function(e,t){if(null==e)return e;if(!Bt(e))return function(e,t){return e&&ot(e,t,Ht)}(e,t);for(var n=e.length,r=-1,o=Object(e);++r<n&&!1!==t(o[r],r,o););return e},ot=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var u=i[++r];if(!1===t(o[u],u,o))break}return e};function it(e,t){for(var n=0,o=(t=_t(t,e)?[t]:lt(t)).length;null!=e&&n<o;)e=e[Et(t[n++])];return n&&n==o?e:r}function at(e,t){return null!=e&&t in Object(e)}function ut(e,t,n,o,i){return e===t||(null==e||null==t||!It(e)&&!Ut(t)?e!=e&&t!=t:function(e,t,n,o,i,s){var c=Rt(e),h=Rt(t),g=l,x=l;c||(g=(g=bt(e))==f?b:g),h||(x=(x=bt(t))==f?b:x);var O=g==b&&!ae(e),T=x==b&&!ae(t),S=g==x;if(S&&!O)return s||(s=new Qe),c||zt(e)?ht(e,t,n,o,i,s):function(e,t,n,r,o,i,s){switch(g){case E:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!r(new je(e),new je(t)));case p:case d:case v:return Pt(+e,+t);case y:return e.name==t.name&&e.message==t.message;case w:case j:return e==t+"";case m:var c=ue;case _:var f=i&u;if(c||(c=ce),e.size!=t.size&&!f)return!1;var l=s.get(e);if(l)return l==t;i|=a,s.set(e,t);var h=ht(c(e),c(t),r,o,i,s);return s.delete(e),h;case A:if($e)return $e.call(e)==$e.call(t)}return!1}(e,t,0,n,o,i,s);if(!(i&u)){var P=O&&ge.call(e,"__wrapped__"),L=T&&ge.call(t,"__wrapped__");if(P||L){var R=P?e.value():e,B=L?t.value():t;return s||(s=new Qe),n(R,B,o,i,s)}}return!!S&&(s||(s=new Qe),function(e,t,n,o,i,a){var s=i&u,c=Ht(e),f=c.length;if(f!=Ht(t).length&&!s)return!1;for(var l=f;l--;){var p=c[l];if(!(s?p in t:ge.call(t,p)))return!1}var d=a.get(e);if(d&&a.get(t))return d==t;var y=!0;a.set(e,t),a.set(t,e);for(var h=s;++l<f;){var g=e[p=c[l]],m=t[p];if(o)var v=s?o(m,g,p,t,e,a):o(g,m,p,e,t,a);if(!(v===r?g===m||n(g,m,o,i,a):v)){y=!1;break}h||(h="constructor"==p)}if(y&&!h){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(y=!1)}return a.delete(e),a.delete(t),y}(e,t,n,o,i,s))}(e,t,ut,n,o,i))}function st(e){return"function"==typeof e?e:null==e?Kt:"object"==typeof e?Rt(e)?function(e,t){return _t(e)&&At(t)?xt(Et(e),t):function(n){var o=Jt(n,e);return o===r&&o===t?Xt(n,e):ut(t,o,r,a|u)}}(e[0],e[1]):function(e){var t=function(e){for(var t=Ht(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,At(o)]}return t}(e);return 1==t.length&&t[0][2]?xt(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,o){var i=n.length,s=i;if(null==e)return!s;for(e=Object(e);i--;){var c=n[i];if(c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<s;){var f=(c=n[i])[0],l=e[f],p=c[1];if(c[2]){if(l===r&&!(f in e))return!1}else{var d,y=new Qe;if(!(d===r?ut(p,l,o,a|u,y):d))return!1}}return!0}(n,0,t)}}(e):Yt(e)}function ct(e){if(!It(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=jt(e),n=[];for(var r in e)("constructor"!=r||!t&&ge.call(e,r))&&n.push(r);return n}function ft(e,t,n,o,i){if(e!==t){if(!Rt(t)&&!zt(t))var a=ct(t);re(a||t,function(u,s){if(a&&(u=t[s=u]),It(u))i||(i=new Qe),function(e,t,n,o,i,a,u){var s=e[n],c=t[n],f=u.get(c);if(f)Ze(e,n,f);else{var l=a?a(s,c,n+"",e,t,u):r,p=l===r;p&&(l=c,Rt(c)||zt(c)?Rt(s)?l=s:Mt(s)?l=dt(s):(p=!1,l=nt(c,!0)):qt(c)||Lt(c)?Lt(s)?l=Gt(s):!It(s)||o&&Nt(s)?(p=!1,l=nt(c,!0)):l=s:p=!1),p&&(u.set(c,l),i(l,c,o,a,u),u.delete(c)),Ze(e,n,l)}}(e,t,s,n,ft,o,i);else{var c=o?o(e[s],u,s+"",e,t,i):r;c===r&&(c=u),Ze(e,s,c)}})}}function lt(e){return Rt(e)?e:kt(e)}function pt(e){var t=new e.constructor(e.byteLength);return new je(t).set(new je(e)),t}function dt(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function yt(e,t,n,o){n||(n={});for(var i=-1,a=t.length;++i<a;){var u=t[i],s=o?o(n[u],e[u],u,n,e):r;et(n,u,s===r?e[u]:s)}return n}function ht(e,t,n,o,i,s){var c=i&u,f=e.length,l=t.length;if(f!=l&&!(c&&l>f))return!1;var p=s.get(e);if(p&&s.get(t))return p==t;var d=-1,y=!0,h=i&a?new Ke:r;for(s.set(e,t),s.set(t,e);++d<f;){var g=e[d],m=t[d];if(o)var v=c?o(m,g,d,t,e,s):o(g,m,d,e,t,s);if(v!==r){if(v)continue;y=!1;break}if(h){if(!ie(t,function(e,t){if(!h.has(t)&&(g===e||n(g,e,o,i,s)))return h.add(t)})){y=!1;break}}else if(g!==m&&!n(g,m,o,i,s)){y=!1;break}}return s.delete(e),s.delete(t),y}function gt(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function mt(e,t){var n=function(e,t){return null==e?r:e[t]}(e,t);return function(e){return!(!It(e)||function(e){return!!ye&&ye in e}(e))&&(Nt(e)||ae(e)?be:z).test(Ot(e))}(n)?n:r}var vt=Oe?se(Oe,Object):Zt,bt=function(e){return ve.call(e)};function wt(e,t){return!!(t=null==t?c:t)&&("number"==typeof e||G.test(e))&&e>-1&&e%1==0&&e<t}function _t(e,t){if(Rt(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Dt(e))||F.test(e)||!N.test(e)||null!=t&&e in Object(t)}function jt(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||pe)}function At(e){return e==e&&!It(e)}function xt(e,t){return function(n){return null!=n&&n[e]===t&&(t!==r||e in Object(n))}}(Le&&bt(new Le(new ArrayBuffer(1)))!=E||Re&&bt(new Re)!=m||Be&&"[object Promise]"!=bt(Be.resolve())||Me&&bt(new Me)!=_||Ce&&bt(new Ce)!=x)&&(bt=function(e){var t=ve.call(e),n=t==b?e.constructor:r,o=n?Ot(n):r;if(o)switch(o){case Ie:return E;case Ue:return m;case qe:return"[object Promise]";case De:return _;case ze:return x}return t});var kt=St(function(e){e=$t(e);var t=[];return I.test(e)&&t.push(""),e.replace(U,function(e,n,r,o){t.push(r?o.replace(q,"$1"):n||e)}),t});function Et(e){if("string"==typeof e||Dt(e))return e;var t=e+"";return"0"==t&&1/e==-s?"-0":t}function Ot(e){if(null!=e){try{return he.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Tt(e,t){return(Rt(e)?re:rt)(e,function(){var e=Xe.iteratee||Qt;return e=e===Qt?st:e,arguments.length?e(arguments[0],arguments[1]):e}(t,3))}function St(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(St.Cache||We),n}function Pt(e,t){return e===t||e!=e&&t!=t}function Lt(e){return Mt(e)&&ge.call(e,"callee")&&(!ke.call(e,"callee")||ve.call(e)==f)}St.Cache=We;var Rt=Array.isArray;function Bt(e){return null!=e&&Ft(e.length)&&!Nt(e)}function Mt(e){return Ut(e)&&Bt(e)}var Ct=Te||en;function Nt(e){var t=It(e)?ve.call(e):"";return t==h||t==g}function Ft(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=c}function It(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ut(e){return!!e&&"object"==typeof e}function qt(e){if(!Ut(e)||ve.call(e)!=b||ae(e))return!1;var t=Ae(e);if(null===t)return!0;var n=ge.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&he.call(n)==me}function Dt(e){return"symbol"==typeof e||Ut(e)&&ve.call(e)==A}var zt=ee?function(e){return function(t){return e(t)}}(ee):function(e){return Ut(e)&&Ft(e.length)&&!!$[ve.call(e)]};function Gt(e){return yt(e,Vt(e))}function $t(e){return null==e?"":function(e){if("string"==typeof e)return e;if(Dt(e))return Je?Je.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}(e)}function Jt(e,t,n){var o=null==e?r:it(e,t);return o===r?n:o}function Xt(e,t){return null!=e&&function(e,t,n){for(var r,o=-1,i=(t=_t(t,e)?[t]:lt(t)).length;++o<i;){var a=Et(t[o]);if(!(r=null!=e&&n(e,a)))break;e=e[a]}return r||!!(i=e?e.length:0)&&Ft(i)&&wt(a,i)&&(Rt(e)||Lt(e))}(e,t,at)}function Ht(e){return Bt(e)?Ye(e):function(e){if(!jt(e))return Se(e);var t=[];for(var n in Object(e))ge.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}function Vt(e){return Bt(e)?Ye(e,!0):ct(e)}var Wt=function(e){return function(e,t){return t=Pe(t===r?e.length-1:t,0),function(){for(var n=arguments,r=-1,o=Pe(n.length-t,0),i=Array(o);++r<o;)i[r]=n[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=n[r];return a[t]=i,function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,a)}}(function(t,n){var o=-1,i=n.length,a=i>1?n[i-1]:r,u=i>2?n[2]:r;for(a=e.length>3&&"function"==typeof a?(i--,a):r,u&&function(e,t,n){if(!It(n))return!1;var r=typeof t;return!!("number"==r?Bt(n)&&wt(t,n.length):"string"==r&&t in n)&&Pt(n[t],e)}(n[0],n[1],u)&&(a=i<3?r:a,i=1),t=Object(t);++o<i;){var s=n[o];s&&e(t,s,o)}return t})}(function(e,t,n){ft(e,t,n)});function Kt(e){return e}function Qt(e){return st("function"==typeof e?e:nt(e,!0))}function Yt(e){return _t(e)?function(e){return function(t){return null==t?r:t[e]}}(Et(e)):function(e){return function(t){return it(t,e)}}(e)}function Zt(){return[]}function en(){return!1}Xe.compact=function(e){for(var t=-1,n=e?e.length:0,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},Xe.iteratee=Qt,Xe.keys=Ht,Xe.keysIn=Vt,Xe.memoize=St,Xe.merge=Wt,Xe.property=Yt,Xe.toPlainObject=Gt,Xe.clone=function(e){return nt(e,!1,!0)},Xe.eq=Pt,Xe.forEach=Tt,Xe.get=Jt,Xe.hasIn=Xt,Xe.identity=Kt,Xe.isArguments=Lt,Xe.isArray=Rt,Xe.isArrayLike=Bt,Xe.isArrayLikeObject=Mt,Xe.isBuffer=Ct,Xe.isEmpty=function(e){if(Bt(e)&&(Rt(e)||"string"==typeof e||"function"==typeof e.splice||Ct(e)||Lt(e)))return!e.length;var t=bt(e);if(t==m||t==_)return!e.size;if(Fe||jt(e))return!Se(e).length;for(var n in e)if(ge.call(e,n))return!1;return!0},Xe.isFunction=Nt,Xe.isLength=Ft,Xe.isObject=It,Xe.isObjectLike=Ut,Xe.isPlainObject=qt,Xe.isSymbol=Dt,Xe.isTypedArray=zt,Xe.stubArray=Zt,Xe.stubFalse=en,Xe.toString=$t,Xe.each=Tt,Xe.VERSION="4.15.0",K&&((K.exports=Xe)._=Xe,W._=Xe)}).call(this)}).call(this,n(34),n(33)(e))},function(e,t,n){var r,o=n(35),i=n(32),a={};function u(e,t){return(e.version||t.version)&&e.version!==t.version?(+e.version||0)>(+t.version||0)?e:t:o.merge(e,t)}function s(e){for(var t,n,r,o,i,a,u=function(e){return e[0]},s=function(e){return e[e.length-1]},c=function(e,t){return void 0!==e&&void 0!==t&&e.id===t.id},f=[];e.length;)for(t=e.pop().nodes.slice(),f.push(t);e.length&&!c(u(t),s(t));){for(n=u(t),r=s(t),o=0;o<e.length;o++){if(c(r,u(a=e[o].nodes))){i=t.push,a=a.slice(1);break}if(c(r,s(a))){i=t.push,a=a.slice(0,-1).reverse();break}if(c(n,s(a))){i=t.unshift,a=a.slice(0,-1);break}if(c(n,u(a))){i=t.unshift,a=a.slice(1).reverse();break}a=i=null}if(!a)break;e.splice(o,1),i.apply(t,a)}return f}n(29).forEach(function(e){if("all"===e.polygon)a[e.key]=!0;else{var t="whitelist"===e.polygon?"included_values":"excluded_values",n={};e.values.forEach(function(e){n[e]=!0}),a[e.key]={},a[e.key][t]=n}}),(r=function(e,t,n){return t=o.merge({verbose:!1,flatProperties:!0,uninterestingTags:{source:!0,source_ref:!0,"source:ref":!0,history:!0,attribution:!0,created_by:!0,"tiger:county":!0,"tiger:tlid":!0,"tiger:upload_uuid":!0},polygonFeatures:a,deduplicator:u},t),"undefined"!=typeof XMLDocument&&e instanceof XMLDocument||"undefined"==typeof XMLDocument&&e.childNodes?function(e){var t,n,i=new Array,a=new Array,u=new Array;function s(e,t,n){e.hasAttribute(n)&&(t[n]=e.getAttribute(n))}function c(e,t){var n=o.clone(e);s(t,n,"lat"),s(t,n,"lon"),n.__is_center_placeholder=!0,i.push(n)}function f(e,t){var n=o.clone(e);function r(e,t,r){var o={type:"node",id:"_"+n.type+"/"+n.id+"bounds"+r,lat:e,lon:t};n.nodes.push(o.id),i.push(o)}n.nodes=[],r(t.getAttribute("minlat"),t.getAttribute("minlon"),1),r(t.getAttribute("maxlat"),t.getAttribute("minlon"),2),r(t.getAttribute("maxlat"),t.getAttribute("maxlon"),3),r(t.getAttribute("minlat"),t.getAttribute("maxlon"),4),n.nodes.push(n.nodes[0]),n.__is_bounds_placeholder=!0,a.push(n)}return o.each(e.getElementsByTagName("node"),function(e,t){var n={};o.each(e.getElementsByTagName("tag"),function(e){n[e.getAttribute("k")]=e.getAttribute("v")});var r={type:"node"};s(e,r,"id"),s(e,r,"lat"),s(e,r,"lon"),s(e,r,"version"),s(e,r,"timestamp"),s(e,r,"changeset"),s(e,r,"uid"),s(e,r,"user"),o.isEmpty(n)||(r.tags=n),i.push(r)}),o.each(e.getElementsByTagName("way"),function(e,r){var u={},l=[];o.each(e.getElementsByTagName("tag"),function(e){u[e.getAttribute("k")]=e.getAttribute("v")});var p=!1;o.each(e.getElementsByTagName("nd"),function(e,t){var n;(n=e.getAttribute("ref"))&&(l[t]=n),!p&&e.getAttribute("lat")&&(p=!0)});var d={type:"way"};s(e,d,"id"),s(e,d,"version"),s(e,d,"timestamp"),s(e,d,"changeset"),s(e,d,"uid"),s(e,d,"user"),l.length>0&&(d.nodes=l),o.isEmpty(u)||(d.tags=u),(t=e.getElementsByTagName("center")[0])&&c(d,t),p?function(e,t){o.isArray(e.nodes)||(e.nodes=[],o.each(t,function(t,n){e.nodes.push("_anonymous@"+t.getAttribute("lat")+"/"+t.getAttribute("lon"))})),o.each(t,function(t,n){t.getAttribute("lat")&&function(e,t,n){var r={type:"node",id:n,lat:e,lon:t};i.push(r)}(t.getAttribute("lat"),t.getAttribute("lon"),e.nodes[n])})}(d,e.getElementsByTagName("nd")):(n=e.getElementsByTagName("bounds")[0])&&f(d,n),a.push(d)}),o.each(e.getElementsByTagName("relation"),function(e,r){var l={},p=[];o.each(e.getElementsByTagName("tag"),function(e){l[e.getAttribute("k")]=e.getAttribute("v")});var d=!1;o.each(e.getElementsByTagName("member"),function(e,t){p[t]={},s(e,p[t],"ref"),s(e,p[t],"role"),s(e,p[t],"type"),(!d&&"node"==p[t].type&&e.getAttribute("lat")||"way"==p[t].type&&e.getElementsByTagName("nd").length>0)&&(d=!0)});var y={type:"relation"};s(e,y,"id"),s(e,y,"version"),s(e,y,"timestamp"),s(e,y,"changeset"),s(e,y,"uid"),s(e,y,"user"),p.length>0&&(y.members=p),o.isEmpty(l)||(y.tags=l),(t=e.getElementsByTagName("center")[0])&&c(y,t),d?function(e,t){function n(e,t){if(!a.some(function(e){return"way"==e.type&&e.id==t})){var n={type:"way",id:t,nodes:[]};o.each(e,function(e){e.getAttribute("lat")?function(e,t){var r={type:"node",id:"_anonymous@"+e+"/"+t,lat:e,lon:t};n.nodes.push(r.id),i.push(r)}(e.getAttribute("lat"),e.getAttribute("lon")):n.nodes.push(void 0)}),a.push(n)}}o.each(t,function(t,r){"node"==e.members[r].type?t.getAttribute("lat")&&function(e,t,n){var r={type:"node",id:n,lat:e,lon:t};i.push(r)}(t.getAttribute("lat"),t.getAttribute("lon"),e.members[r].ref):"way"==e.members[r].type&&t.getElementsByTagName("nd").length>0&&(e.members[r].ref="_fullGeom"+e.members[r].ref,n(t.getElementsByTagName("nd"),e.members[r].ref))})}(y,e.getElementsByTagName("member")):(n=e.getElementsByTagName("bounds")[0])&&f(y,n),u.push(y)}),r(i,a,u)}(e):function(e){var t=new Array,n=new Array,i=new Array;function a(e){var n=o.clone(e);n.lat=e.center.lat,n.lon=e.center.lon,n.__is_center_placeholder=!0,t.push(n)}function u(e){var r=o.clone(e);function i(e,n,o){var i={type:"node",id:"_"+r.type+"/"+r.id+"bounds"+o,lat:e,lon:n};r.nodes.push(i.id),t.push(i)}r.nodes=[],i(r.bounds.minlat,r.bounds.minlon,1),i(r.bounds.maxlat,r.bounds.minlon,2),i(r.bounds.maxlat,r.bounds.maxlon,3),i(r.bounds.minlat,r.bounds.maxlon,4),r.nodes.push(r.nodes[0]),r.__is_bounds_placeholder=!0,n.push(r)}function s(e){o.isArray(e.nodes)||(e.nodes=e.geometry.map(function(e){return null!==e?"_anonymous@"+e.lat+"/"+e.lon:"_anonymous@unknown_location"})),e.geometry.forEach(function(n,r){n&&function(e,n,r){var o={type:"node",id:r,lat:e,lon:n};t.push(o)}(n.lat,n.lon,e.nodes[r])})}function c(e){function r(e,r){if(!n.some(function(e){return"way"==e.type&&e.id==r})){var o={type:"way",id:r,nodes:[]};e.forEach(function(e){e?function(e,n){var r={type:"node",id:"_anonymous@"+e+"/"+n,lat:e,lon:n};o.nodes.push(r.id),t.push(r)}(e.lat,e.lon):o.nodes.push(void 0)}),n.push(o)}}e.members.forEach(function(e,n){"node"==e.type?e.lat&&function(e,n,r){var o={type:"node",id:r,lat:e,lon:n};t.push(o)}(e.lat,e.lon,e.ref):"way"==e.type&&e.geometry&&(e.ref="_fullGeom"+e.ref,r(e.geometry,e.ref))})}for(var f=0;f<e.elements.length;f++)switch(e.elements[f].type){case"node":var l=e.elements[f];t.push(l);break;case"way":var p=o.clone(e.elements[f]);p.nodes=o.clone(p.nodes),n.push(p),p.center&&a(p),p.geometry?s(p):p.bounds&&u(p);break;case"relation":var d=o.clone(e.elements[f]);d.members=o.clone(d.members),i.push(d);var y=d.members&&d.members.some(function(e){return"node"==e.type&&e.lat||"way"==e.type&&e.geometry&&e.geometry.length>0});d.center&&a(d),y?c(d):d.bounds&&u(d)}return r(t,n,i)}(e);function r(e,r,a){function u(e,n){if("object"!=typeof n&&(n={}),"function"==typeof t.uninterestingTags)return!t.uninterestingTags(e,n);for(var r in e)if(!0!==t.uninterestingTags[r]&&!0!==n[r]&&n[r]!==e[r])return!0;return!1}function f(e){var t={timestamp:e.timestamp,version:e.version,changeset:e.changeset,user:e.user,uid:e.uid};for(var n in t)void 0===t[n]&&delete t[n];return t}for(var l=new Object,p=new Object,d=0;d<e.length;d++)void 0!==l[(w=e[d]).id]&&(w=t.deduplicator(w,l[w.id])),l[w.id]=w,void 0!==w.tags&&u(w.tags)&&(p[w.id]=!0);for(d=0;d<a.length;d++)if(o.isArray(a[d].members))for(var y=0;y<a[d].members.length;y++)"node"==a[d].members[y].type&&(p[a[d].members[y].ref]=!0);var h=new Object,g=new Object;for(d=0;d<r.length;d++){var m=r[d];if(h[m.id]&&(m=t.deduplicator(m,h[m.id])),h[m.id]=m,o.isArray(m.nodes))for(y=0;y<m.nodes.length;y++)"object"!=typeof m.nodes[y]&&(g[m.nodes[y]]=!0,m.nodes[y]=l[m.nodes[y]])}var v=new Array;for(var b in l){var w=l[b];g[b]&&!p[b]||v.push(w)}var _=new Array;for(d=0;d<a.length;d++)_[(x=a[d]).id]&&(x=t.deduplicator(x,_[x.id])),_[x.id]=x;var j,A={node:{},way:{},relation:{}};for(var b in _){var x=_[b];if(o.isArray(x.members))for(y=0;y<x.members.length;y++){var k=x.members[y].type,E=x.members[y].ref;"number"!=typeof E&&(E=E.replace("_fullGeom","")),A[k]?(void 0===A[k][E]&&(A[k][E]=[]),A[k][E].push({role:x.members[y].role,rel:x.id,reltags:x.tags})):t.verbose&&console.warn("Relation",x.type+"/"+x.id,"member",k+"/"+E,"ignored because it has an invalid type")}else t.verbose&&console.warn("Relation",x.type+"/"+x.id,"ignored because it has no members")}var O=[];for(d=0;d<v.length;d++)if(void 0!==v[d].lon&&void 0!==v[d].lat){var T={type:"Feature",id:v[d].type+"/"+v[d].id,properties:{type:v[d].type,id:v[d].id,tags:v[d].tags||{},relations:A.node[v[d].id]||[],meta:f(v[d])},geometry:{type:"Point",coordinates:[+v[d].lon,+v[d].lat]}};v[d].__is_center_placeholder&&(T.properties.geometry="center"),n?n(T):O.push(T)}else t.verbose&&console.warn("POI",v[d].type+"/"+v[d].id,"ignored because it lacks coordinates");var S=[],P=[];for(d=0;d<a.length;d++)if(_[a[d].id]===a[d]){if(void 0!==a[d].tags&&("route"==a[d].tags.type||"waterway"==a[d].tags.type)){if(!o.isArray(a[d].members)){t.verbose&&console.warn("Route",a[d].type+"/"+a[d].id,"ignored because it has no members");continue}if(a[d].members.forEach(function(e){h[e.ref]&&!u(h[e.ref].tags)&&(h[e.ref].is_skippablerelationmember=!0)}),!1===(T=L(a[d]))){t.verbose&&console.warn("Route relation",a[d].type+"/"+a[d].id,"ignored because it has invalid geometry");continue}function L(e){var n,r,i,a=!1;if(n=(n=e.members.filter(function(e){return"way"===e.type})).map(function(n){var r=h[n.ref];return void 0===r||void 0===r.nodes?(t.verbose&&console.warn("Route "+e.type+"/"+e.id,"tainted by a missing or incomplete  way",n.type+"/"+n.ref),void(a=!0)):{id:n.ref,role:n.role,way:r,nodes:r.nodes.filter(function(r){return void 0!==r||(a=!0,t.verbose&&console.warn("Route",e.type+"/"+e.id,"tainted by a way",n.type+"/"+n.ref,"with a missing node"),!1)})}}),r=s(n=o.compact(n)),0==(i=o.compact(r.map(function(e){return o.compact(e.map(function(e){return[+e.lon,+e.lat]}))}))).length)return t.verbose&&console.warn("Route",e.type+"/"+e.id,"contains no coordinates"),!1;var u={type:"Feature",id:e.type+"/"+e.id,properties:{type:e.type,id:e.id,tags:e.tags||{},relations:A[e.type][e.id]||[],meta:f(e)},geometry:{type:1===i.length?"LineString":"MultiLineString",coordinates:1===i.length?i[0]:i}};return a&&(t.verbose&&console.warn("Route",e.type+"/"+e.id,"is tainted"),u.properties.tainted=!0),u}n?n(i(T)):P.push(T)}if(void 0!==a[d].tags&&("multipolygon"==a[d].tags.type||"boundary"==a[d].tags.type)){if(!o.isArray(a[d].members)){t.verbose&&console.warn("Multipolygon",a[d].type+"/"+a[d].id,"ignored because it has no members");continue}var R=0;for(y=0;y<a[d].members.length;y++)"outer"==a[d].members[y].role?R++:t.verbose&&"inner"!=a[d].members[y].role&&console.warn("Multipolygon",a[d].type+"/"+a[d].id,"member",a[d].members[y].type+"/"+a[d].members[y].ref,'ignored because it has an invalid role: "'+a[d].members[y].role+'"');if(a[d].members.forEach(function(e){h[e.ref]&&("outer"!==e.role||u(h[e.ref].tags,a[d].tags)||(h[e.ref].is_skippablerelationmember=!0),"inner"!==e.role||u(h[e.ref].tags)||(h[e.ref].is_skippablerelationmember=!0))}),0==R){t.verbose&&console.warn("Multipolygon relation",a[d].type+"/"+a[d].id,"ignored because it has no outer ways");continue}var B=!1;if(1!=R||u(a[d].tags,{type:!0})||(B=!0),T=null,B){var M=a[d].members.filter(function(e){return"outer"===e.role})[0];if(void 0===(M=h[M.ref])){t.verbose&&console.warn("Multipolygon relation",a[d].type+"/"+a[d].id,"ignored because outer way",M.type+"/"+M.ref,"is missing");continue}M.is_skippablerelationmember=!0,T=C(M,a[d])}else T=C(a[d],a[d]);if(!1===T){t.verbose&&console.warn("Multipolygon relation",a[d].type+"/"+a[d].id,"ignored because it has invalid geometry");continue}function C(e,n){var r,i,a,u,c=!1,l=B?"way":"relation",p="number"==typeof e.id?e.id:+e.id.replace("_fullGeom","");function d(e){var t,n=function(e,t){for(var n=0;n<t.length;n++)if(o(t[n],e))return!0;return!1},r=function(e){return e.map(function(e){return[+e.lat,+e.lon]})},o=function(e,t){for(var n=e[0],r=e[1],o=!1,i=0,a=t.length-1;i<t.length;a=i++){var u=t[i][0],s=t[i][1],c=t[a][0],f=t[a][1];s>r!=f>r&&n<(c-u)*(r-s)/(f-s)+u&&(o=!o)}return o};for(e=r(e),t=0;t<i.length;t++)if(n(r(i[t]),e))return t}r=(r=n.members.filter(function(e){return"way"===e.type})).map(function(e){var n=h[e.ref];return void 0===n||void 0===n.nodes?(t.verbose&&console.warn("Multipolygon",l+"/"+p,"tainted by a missing or incomplete way",e.type+"/"+e.ref),void(c=!0)):{id:e.ref,role:e.role||"outer",way:n,nodes:n.nodes.filter(function(n){return void 0!==n||(c=!0,t.verbose&&console.warn("Multipolygon",l+"/"+p,"tainted by a way",e.type+"/"+e.ref,"with a missing node"),!1)})}}),r=o.compact(r),i=s(r.filter(function(e){return"outer"===e.role})),a=s(r.filter(function(e){return"inner"===e.role})),u=i.map(function(e){return[e]});for(var y=0;y<a.length;y++){var g=d(a[y]);void 0!==g?u[g].push(a[y]):t.verbose&&console.warn("Multipolygon",l+"/"+p,"contains an inner ring with no containing outer")}var m=[];if(0==(m=o.compact(u.map(function(e){var n=o.compact(e.map(function(e){if(!(e.length<4))return o.compact(e.map(function(e){return[+e.lon,+e.lat]}));t.verbose&&console.warn("Multipolygon",l+"/"+p,"contains a ring with less than four nodes")}));if(0!=n.length)return n;t.verbose&&console.warn("Multipolygon",l+"/"+p,"contains an empty ring cluster")}))).length)return t.verbose&&console.warn("Multipolygon",l+"/"+p,"contains no coordinates"),!1;var v="MultiPolygon";1===m.length&&(v="Polygon",m=m[0]);var b={type:"Feature",id:e.type+"/"+p,properties:{type:e.type,id:p,tags:e.tags||{},relations:A[e.type][e.id]||[],meta:f(e)},geometry:{type:v,coordinates:m}};return c&&(t.verbose&&console.warn("Multipolygon",l+"/"+p,"is tainted"),b.properties.tainted=!0),b}n?n(i(T)):P.push(T)}}for(d=0;d<r.length;d++)if(h[r[d].id]===r[d])if(o.isArray(r[d].nodes)){if(!r[d].is_skippablerelationmember){"number"!=typeof r[d].id&&(r[d].id=+r[d].id.replace("_fullGeom","")),r[d].tainted=!1,r[d].hidden=!1;var N=new Array;for(y=0;y<r[d].nodes.length;y++)"object"==typeof r[d].nodes[y]?N.push([+r[d].nodes[y].lon,+r[d].nodes[y].lat]):(t.verbose&&console.warn("Way",r[d].type+"/"+r[d].id,"is tainted by an invalid node"),r[d].tainted=!0);if(N.length<=1)t.verbose&&console.warn("Way",r[d].type+"/"+r[d].id,"ignored because it contains too few nodes");else{var F="LineString";void 0!==r[d].nodes[0]&&void 0!==r[d].nodes[r[d].nodes.length-1]&&r[d].nodes[0].id===r[d].nodes[r[d].nodes.length-1].id&&(void 0!==r[d].tags&&c(r[d].tags)||r[d].__is_bounds_placeholder)&&(F="Polygon",N=[N]),T={type:"Feature",id:r[d].type+"/"+r[d].id,properties:{type:r[d].type,id:r[d].id,tags:r[d].tags||{},relations:A.way[r[d].id]||[],meta:f(r[d])},geometry:{type:F,coordinates:N}},r[d].tainted&&(t.verbose&&console.warn("Way",r[d].type+"/"+r[d].id,"is tainted"),T.properties.tainted=!0),r[d].__is_bounds_placeholder&&(T.properties.geometry="bounds"),n?n(i(T)):"LineString"==F?S.push(T):P.push(T)}}}else t.verbose&&console.warn("Way",r[d].type+"/"+r[d].id,"ignored because it has no nodes");return!!n||((j={type:"FeatureCollection",features:[]}).features=j.features.concat(P),j.features=j.features.concat(S),j.features=j.features.concat(O),t.flatProperties&&j.features.forEach(function(e){e.properties=o.merge(e.properties.meta,e.properties.tags,{id:e.properties.type+"/"+e.properties.id})}),i(j))}function c(e){var n=t.polygonFeatures;if("function"==typeof n)return n(e);if("no"===e.area)return!1;for(var r in e){var o=e[r],i=n[r];if(void 0!==i&&"no"!==o){if(!0===i)return!0;if(i.included_values&&!0===i.included_values[o])return!0;if(i.excluded_values&&!0!==i.excluded_values[o])return!0}}return!1}}).toGeojson=r,e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGeoJson=t.polygonsFromGeoJson=t.queryGeoJsonForAltizureProjectMarker=void 0;var r=a(n(36)),o=a(n(27)),i=n(7);function a(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=function(e){var t=e.bbox,n="("+t.min.lat+","+t.min.lng+","+t.max.lat+","+t.max.lng+")";return"(node"+n+';way["building"]'+n+';rel["building"]'+n+";);(._;>;);out;"}(e);return(0,o.default)({method:"get",url:"https://overpass-api.de/api/interpreter?data=[out:json][timeout:60];"+t}).then(function(t){var n=(0,r.default)(t.data),o=e.bbox;return Promise.resolve({geojson:n,bbox:o})})};t.queryGeoJsonForAltizureProjectMarker=function(e){var t=function(e){var t=e.position.lat,n=e.position.lng,r=e._apiInfo.geoInfo.minLat,o=e._apiInfo.geoInfo.minLong,i=e._apiInfo.geoInfo.maxLat,a=e._apiInfo.geoInfo.maxLong,u=i-t>t-r?i-t:t-r,s=a-n>n-a?a-n:n-o;return{min:{lng:n-s,lat:t-u},max:{lng:n+s,lat:t+u}}}(e);return u({bbox:t}).catch(function(e){console.log("queryGeoJsonForAltizureProjectMarker",e)})},t.polygonsFromGeoJson=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=Object.assign({top:4,bottom:.1,color:255,opacity:.3},n);for(var r=[],o=e.features,a=0;a<o.length;++a){var u=o[a].geometry;if("Polygon"===u.type){var s=c(u,n);r.push(s)}}return r;function c(e,n){for(var r=[{hole:!1,array:e.coordinates[0].map(function(e){return new i.LngLatAlt(e[0],e[1],0)})}],o=1;o<e.coordinates.length;++o)r.push({hole:!0,array:e.coordinates[o].map(function(e){return new i.LngLatAlt(e[0],e[1],0)})});var a={sandbox:t,volume:{points:r,top:n.top,bottom:n.bottom,color:n.color,opacity:n.opacity}};return new i.PolygonMarker(a)}},t.getGeoJson=u}])});